<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>weather</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

</head>

<body>


    <nav class="row" style="background: green; color: white;">
    <h1 class="col-md-3 text-center">weather</h1>
    </nav>
    </br>
    </br>
    <center class="row">
      <form method="post" class="col-md-6 col-md-offset-3">
        <form method="post">
          {% csrf_token %}
          <div class="input-group">
            <input type="text" class="form-control" name="city" placeholder="Search">
            <div class="input-group-btn">
              <button class="btn btn-default" type="submit">
                <i class="glyphicon glyphicon-search"></i>
              </button>
            </div>
        </form>
    </center>
    </div>


    {% comment %} {% if bdata %} {% endcomment %}
    {% if country_code %}
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default">
          <div class="panel-heading">Current Weather</div>
          <div class="panel-body">
            <p>City: {{ city }}</p>
            <p>Country Code: {{ country_code }}</p>
            <p>Coordinates: {{ coordinate }}</p>
            <p>Temperature: {{ temp }} K</p>
            <p>Pressure: {{ pressure }} hPa</p>
            <p>Humidity: {{ humidity }}%</p>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
  
    <!-- Historic weather results -->
    {% if bdata %}
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default">
          <div class="panel-heading">Historical Weather Data</div>
          <div class="panel-body">
            <div class="card">
              <ul class="list-group list-group-flush">
                {% for entry in bdata %}
                <li class="list-group-item">
                  <strong>City:</strong> {{ entry.city }}<br>
                  <strong>Country Code:</strong> {{ entry.country_code }}<br>
                  <strong>Coordinates:</strong> {{ entry.coordinate }}<br>
                  <strong>Temperature:</strong> {{ entry.temp }} K<br>
                  <strong>Pressure:</strong> {{ entry.pressure }} hPa<br>
                  <strong>Humidity:</strong> {{ entry.humidity }}%
                </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
  </div>


</body>

</html>